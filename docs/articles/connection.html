<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="describe connections methods available
">
<title>Connection to EDP hosts • quartzbio.edp</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Connection to EDP hosts">
<meta property="og:description" content="describe connections methods available
">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">quartzbio.edp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.00.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Parallelisation.html">Parallelisation</a>
    <a class="dropdown-item" href="../articles/connection.html">Connection to EDP hosts</a>
    <a class="dropdown-item" href="../articles/vaults_and_objects.html">Vaults, Files, Datasets and Objects</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">

<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Connection to EDP hosts</h1>
            
      
      
      <div class="d-none name"><code>connection.Rmd</code></div>
    </div>

    
    
<div class="section level1">
<h1 id="tldr">TL;DR<a class="anchor" aria-label="anchor" href="#tldr"></a>
</h1>
<p>Save into the <strong>~/.qb/edp.json</strong> files, different EDP
configuration profiles.<br>
The <strong>default</strong> profile is used automatically in functions
if no connection are specified in arguments.</p>
<pre><code>{
  "default": {
    "secret": "API_TOKEN",
    "host": "https://api.solvebio.com"
  },
  "demo-corp":  {
    "secret": "API_TOKEN_2",
    "host": "https://demo-corp.api.solvebio.com"
  }
}</code></pre>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># by default all functions will use the default profile set in the default config file</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">quartzbio.edp</span><span class="op">)</span>
<span class="fu"><a href="../reference/User.html">User</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Loading required package: RcppSimdJson</span>
<span class="co">#&gt; GET https://api.solvebio.com/v1/user...</span>
<span class="co">#&gt; Connected to https://api.solvebio.com with user "Marc Lamarine" using an API Token</span>
<span class="co">#&gt; GET https://api.solvebio.com/v1/user...</span>
<span class="co">#&gt; EDP user "Marc Lamarine"(marc.lamarine@precisionformedicine.com) role:member</span>
<span class="va">vlst</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Vaults.html">Vaults</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; GET https://api.solvebio.com/v2/vaults...</span>
<span class="va">vlst</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
<span class="co">#&gt; Vault "qbdev:Comparisons" ("", general, RWA), @ "dandan", updated at:2022-08-19T14:48:53.077Z</span>

<span class="va">flds</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Folders.html">Folders</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; GET https://api.solvebio.com/v2/objects...</span>
<span class="va">flds</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
<span class="co">#&gt; folder "solvebio:public:/1000G" (application/vnd.solvebio.folder) nb:0 user:SolveBio Staff accessed:</span>

<span class="va">fis</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Files.html">Files</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; GET https://api.solvebio.com/v2/objects...</span>
<span class="va">fis</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
<span class="co">#&gt; file "solvebio:public:/CCDS/1.0.0-2019-12-10/CCDS2Sequence.current.txt" (text/plain) nb:0 user:Dandan Xu accessed:2023-01-27T10:38:23.526Z</span>

<span class="va">das</span>  <span class="op">&lt;-</span><span class="fu"><a href="../reference/Datasets.html">Datasets</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; GET https://api.solvebio.com/v2/objects...</span>
<span class="va">das</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
<span class="co">#&gt; dataset "solvebio:public:/1000G/1.1.0-2015-01-08/1000G-GRCh37" (application/vnd.solvebio.dataset) nb:170075267 user:Jeff Hull accessed:2023-05-26T13:08:12Z</span></code></pre></div>
</div>
<div class="section level1">
<h1 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h1>
<p>There are several methods to be connected to a EDP instance.</p>
<ul>
<li><p>using explicit connection</p></li>
<li><p>using environment variables</p></li>
<li><p>using profiles</p></li>
<li><p>using autoconnect()</p></li>
<li><p><strong>key</strong>: designates an API key (deprecated and will
not be supported anymore in the future)</p></li>
<li><p><strong>token</strong>: designates an API token</p></li>
<li><p><strong>secret</strong>: can be a <em>key</em> or a
<em>token</em> but <em>token</em> connections based are highly
recommended</p></li>
</ul>
<div class="section level2">
<h2 id="connection-from-profiles">Connection from Profiles<a class="anchor" aria-label="anchor" href="#connection-from-profiles"></a>
</h2>
<p>Different EDP environment profiles config can be stored in the
default config location of your home directory:
<strong>~/.qb/edp.json</strong> At least a single
<strong>default</strong> profile should be defined as examplified
above.</p>
<ul>
<li>the default profile witl set the default connection, if no explicit
connection was specified using the environment variables.</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># use the default profile</span>
<span class="fu"><a href="../reference/User.html">User</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; GET https://api.solvebio.com/v1/user...</span>
<span class="co">#&gt; EDP user "Marc Lamarine"(marc.lamarine@precisionformedicine.com) role:member</span>

<span class="co"># use explicitely the default profile</span>
<span class="va">conn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/connect_with_profile.html">connect_with_profile</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; GET https://api.solvebio.com/v1/user...</span>
<span class="co">#&gt; Connected to https://api.solvebio.com with user "Marc Lamarine" using an API Token</span>
<span class="fu"><a href="../reference/User.html">User</a></span><span class="op">(</span><span class="va">conn</span><span class="op">)</span>
<span class="co">#&gt; GET https://api.solvebio.com/v1/user...</span>
<span class="co">#&gt; EDP user "Marc Lamarine"(marc.lamarine@precisionformedicine.com) role:member</span>

<span class="co"># use  profile named demo-corp defined in the default config file without</span>
<span class="co"># changing the current connection</span>
<span class="va">conn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/connect_with_profile.html">connect_with_profile</a></span><span class="op">(</span><span class="st">'demo-corp'</span><span class="op">)</span>
<span class="co">#&gt; GET https://demo-corp.api.solvebio.com/v1/user...</span>
<span class="co">#&gt; Connected to https://demo-corp.api.solvebio.com with user "Marc Lamarine" using an API Token</span>
<span class="fu"><a href="../reference/User.html">User</a></span><span class="op">(</span><span class="va">conn</span><span class="op">)</span>
<span class="co">#&gt; GET https://demo-corp.api.solvebio.com/v1/user...</span>
<span class="co">#&gt; EDP user "Marc Lamarine"(marc.lamarine) role:member</span>
<span class="fu"><a href="../reference/Vaults.html">Vaults</a></span><span class="op">(</span>conn <span class="op">=</span> <span class="va">conn</span><span class="op">)</span>
<span class="co">#&gt; GET https://demo-corp.api.solvebio.com/v2/vaults...</span>
<span class="co">#&gt; List of 6 Vaults</span>
<span class="co">#&gt;     id         name              full_path      user_name vault_type</span>
<span class="co">#&gt; 1 5735  DataSyncDev  demo-corp:DataSyncDev      Dandan Xu    general</span>
<span class="co">#&gt; 2 5527         GWAS         demo-corp:GWAS   Joseph Henry    general</span>
<span class="co">#&gt; 3 2956       public        solvebio:public SolveBio Staff    general</span>
<span class="co">#&gt; 4 6475     test_one     demo-corp:test_one  Marc Lamarine    general</span>
<span class="co">#&gt; 5 5738    user-4519    demo-corp:user-4519  Marc Lamarine       user</span>
<span class="co">#&gt; 6 6477 vault_test_1 demo-corp:vault_test_1  Marc Lamarine    general</span>
<span class="co">#&gt;                 created_at</span>
<span class="co">#&gt; 1 2022-10-10T13:48:41.240Z</span>
<span class="co">#&gt; 2 2022-07-11T20:17:24.029Z</span>
<span class="co">#&gt; 3 2017-07-28T18:13:37.596Z</span>
<span class="co">#&gt; 4 2023-05-23T06:36:27.841Z</span>
<span class="co">#&gt; 5 2022-10-11T12:43:49.956Z</span>
<span class="co">#&gt; 6 2023-05-23T06:43:28.203Z</span>

<span class="co"># still using the default profile</span>
<span class="co"># because no explicit profile connection is given in argument</span>
<span class="fu"><a href="../reference/Vaults.html">Vaults</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; GET https://api.solvebio.com/v2/vaults...</span>
<span class="co">#&gt; List of 5 Vaults</span>
<span class="co">#&gt;     id        name         full_path      user_name vault_type</span>
<span class="co">#&gt; 1 5601 Comparisons qbdev:Comparisons         dandan    general</span>
<span class="co">#&gt; 2 5736 DataSyncDev qbdev:DataSyncDev         dandan    general</span>
<span class="co">#&gt; 3 2956      public   solvebio:public SolveBio Staff    general</span>
<span class="co">#&gt; 4 5585  Test Vault  qbdev:Test Vault   David Caplan    general</span>
<span class="co">#&gt; 5 5598   user-4441   qbdev:user-4441  Marc Lamarine       user</span>
<span class="co">#&gt;                 created_at</span>
<span class="co">#&gt; 1 2022-08-19T14:48:53.058Z</span>
<span class="co">#&gt; 2 2022-10-10T13:50:15.065Z</span>
<span class="co">#&gt; 3 2017-07-28T18:13:37.596Z</span>
<span class="co">#&gt; 4 2022-08-16T16:31:32.726Z</span>
<span class="co">#&gt; 5 2022-08-18T16:00:39.310Z</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="connection-from-system-environment-variables">Connection From System Environment variables<a class="anchor" aria-label="anchor" href="#connection-from-system-environment-variables"></a>
</h2>
<p>If no <strong>default</strong> profile or config are available, the
environment variables <strong>EDP_PROFILE</strong> and
<strong>EDP_CONFIG</strong> are explored to obtain the profile
name.<br>
This way several config files, containing different profiles can be used
by switching only environment variables.</p>
<p>Setting <em>EDP_PROFILE to ‘default’</em> and <em>EDP_CONFIG to
‘~/.qb/edp.json’</em> is equivalent to use the default package
settings.</p>
<p>A good practice is to have profiles defined in the
<strong>EDP_CONFIG</strong> file and to set the
<strong>EDP_PROFILE</strong> environment variable at the beginning of
your scripts. The remaining connections will automatically use it.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># set the demo-corp connection as the default for future connections</span>

<span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">'EDP_PROFILE'</span><span class="op">)</span>
<span class="co">#&gt; [1] ""</span>
<span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>EDP_PROFILE <span class="op">=</span> <span class="st">'demo-corp'</span><span class="op">)</span>
<span class="fu"><a href="../reference/User.html">User</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; GET https://demo-corp.api.solvebio.com/v1/user...</span>
<span class="co">#&gt; Connected to https://demo-corp.api.solvebio.com with user "Marc Lamarine" using an API Token</span>
<span class="co">#&gt; GET https://demo-corp.api.solvebio.com/v1/user...</span>
<span class="co">#&gt; EDP user "Marc Lamarine"(marc.lamarine) role:member</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="explicit-connection">Explicit connection<a class="anchor" aria-label="anchor" href="#explicit-connection"></a>
</h2>
<p><strong>secret</strong> and <strong>host</strong> can be set
explicitely. <em>read_connection</em> returns connection infos for a
given config.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">conn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_connection_profile.html">read_connection_profile</a></span><span class="op">(</span><span class="st">'default'</span><span class="op">)</span>
<span class="va">secret</span> <span class="op">&lt;-</span> <span class="va">conn</span><span class="op">$</span><span class="va">secret</span>
<span class="va">host</span> <span class="op">&lt;-</span> <span class="va">conn</span><span class="op">$</span><span class="va">host</span>
<span class="va">conn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/connect.html">connect</a></span><span class="op">(</span><span class="va">secret</span>, <span class="va">host</span><span class="op">)</span>
<span class="co">#&gt; GET https://api.solvebio.com/v1/user...</span>
<span class="co">#&gt; Connected to https://api.solvebio.com with user "Marc Lamarine" using an API Token</span>
<span class="fu"><a href="../reference/User.html">User</a></span><span class="op">(</span><span class="va">conn</span><span class="op">)</span>
<span class="co">#&gt; GET https://api.solvebio.com/v1/user...</span>
<span class="co">#&gt; EDP user "Marc Lamarine"(marc.lamarine@precisionformedicine.com) role:member</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="autoconnect">autoconnect()<a class="anchor" aria-label="anchor" href="#autoconnect"></a>
</h2>
<p><strong>autoconnect()</strong> function tries to connect using the
environment variables <strong>EDP_PROFILE</strong> and
<strong>EDP_CONFIG</strong> at first and then the
<strong>default</strong> profile in the default config file.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># auto connect use the EDP profile to set the current connection</span>
<span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>EDP_PROFILE <span class="op">=</span> <span class="st">'demo-corp'</span><span class="op">)</span>
<span class="va">conn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/autoconnect.html">autoconnect</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="../reference/User.html">User</a></span><span class="op">(</span>conn <span class="op">=</span> <span class="va">conn</span><span class="op">)</span>
<span class="co">#&gt; GET https://demo-corp.api.solvebio.com/v1/user...</span>
<span class="co">#&gt; EDP user "Marc Lamarine"(marc.lamarine) role:member</span>
<span class="fu"><a href="../reference/User.html">User</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; GET https://demo-corp.api.solvebio.com/v1/user...</span>
<span class="co">#&gt; EDP user "Marc Lamarine"(marc.lamarine) role:member</span>


<span class="co"># unset the EDP_PROFILE environment variable</span>
<span class="co"># autoconnect() use the default settings.</span>
<span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.unsetenv</a></span><span class="op">(</span><span class="st">'EDP_PROFILE'</span><span class="op">)</span> <span class="co"># unset current profile environment variables</span>
<span class="fu"><a href="../reference/set_connection.html">set_connection</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="co"># unset current connection</span>

<span class="va">conn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/autoconnect.html">autoconnect</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># Will used the default profile</span>
<span class="fu"><a href="../reference/User.html">User</a></span><span class="op">(</span>conn<span class="op">=</span><span class="va">conn</span><span class="op">)</span>
<span class="co">#&gt; GET https://api.solvebio.com/v1/user...</span>
<span class="co">#&gt; EDP user "Marc Lamarine"(marc.lamarine@precisionformedicine.com) role:member</span>
<span class="fu"><a href="../reference/User.html">User</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; GET https://api.solvebio.com/v1/user...</span>
<span class="co">#&gt; Connected to https://api.solvebio.com with user "Marc Lamarine" using an API Token</span>
<span class="co">#&gt; GET https://api.solvebio.com/v1/user...</span>
<span class="co">#&gt; EDP user "Marc Lamarine"(marc.lamarine@precisionformedicine.com) role:member</span></code></pre></div>
</div>
</div>
<div class="section level1">
<h1 id="advanced-usage">Advanced Usage<a class="anchor" aria-label="anchor" href="#advanced-usage"></a>
</h1>
<div class="section level2">
<h2 id="set_connection-and-get_connection">set_connection() and get_connection()<a class="anchor" aria-label="anchor" href="#set_connection-and-get_connection"></a>
</h2>
<p>So far connection objects (i.e list) were passed as arguments to
functions such as <em>User()</em> or <em>Vaults()</em>.<br>
Still theses functions can use a current connection.<br>
By default, if no connection argument is given to these function(). The
<em>current connection</em> will be set to the default connection.</p>
<ul>
<li><p><strong>get_connection()</strong> returns the current connection.
If none are yet available and <strong>auto=TRUE</strong>, it will use
autoconnect() to obtain it and sets as the current one.</p></li>
<li><p><strong>set_connection()</strong>: explicitely sets the
<em>current connection</em></p></li>
</ul>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># explicitely set the connection with a profile</span>
<span class="fu"><a href="../reference/set_connection.html">set_connection</a></span><span class="op">(</span> <span class="fu"><a href="../reference/connect_with_profile.html">connect_with_profile</a></span><span class="op">(</span><span class="st">'demo-corp'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; GET https://demo-corp.api.solvebio.com/v1/user...</span>
<span class="co">#&gt; Connected to https://demo-corp.api.solvebio.com with user "Marc Lamarine" using an API Token</span>
<span class="co">#&gt; GET https://demo-corp.api.solvebio.com/v1/user...</span>
<span class="co">#&gt; Connected to https://demo-corp.api.solvebio.com with user "Marc Lamarine" using an API Token</span>

<span class="co"># remove the current connection</span>
<span class="fu"><a href="../reference/set_connection.html">set_connection</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>

<span class="co"># the firt call to User() sets the current default connection to the default connection</span>
<span class="co"># both calls will use the current connection</span>

<span class="fu"><a href="../reference/User.html">User</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; GET https://api.solvebio.com/v1/user...</span>
<span class="co">#&gt; Connected to https://api.solvebio.com with user "Marc Lamarine" using an API Token</span>
<span class="co">#&gt; GET https://api.solvebio.com/v1/user...</span>
<span class="co">#&gt; EDP user "Marc Lamarine"(marc.lamarine@precisionformedicine.com) role:member</span>
<span class="fu"><a href="../reference/User.html">User</a></span><span class="op">(</span>conn <span class="op">=</span> <span class="fu"><a href="../reference/get_connection.html">get_connection</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; GET https://api.solvebio.com/v1/user...</span>
<span class="co">#&gt; EDP user "Marc Lamarine"(marc.lamarine@precisionformedicine.com) role:member</span>

<span class="co"># the current connection remains the 'default'</span>
<span class="co"># connecting with a profile did not change it</span>
<span class="va">conn_corp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/connect_with_profile.html">connect_with_profile</a></span><span class="op">(</span><span class="st">'demo-corp'</span><span class="op">)</span>
<span class="co">#&gt; GET https://demo-corp.api.solvebio.com/v1/user...</span>
<span class="co">#&gt; Connected to https://demo-corp.api.solvebio.com with user "Marc Lamarine" using an API Token</span>
<span class="fu"><a href="../reference/User.html">User</a></span><span class="op">(</span><span class="va">conn_corp</span><span class="op">)</span>
<span class="co">#&gt; GET https://demo-corp.api.solvebio.com/v1/user...</span>
<span class="co">#&gt; EDP user "Marc Lamarine"(marc.lamarine) role:member</span>
<span class="fu"><a href="../reference/User.html">User</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; GET https://api.solvebio.com/v1/user...</span>
<span class="co">#&gt; EDP user "Marc Lamarine"(marc.lamarine@precisionformedicine.com) role:member</span>

<span class="co"># the current connection will be the 'demo-corp' one </span>
<span class="co"># after unsetting the previous connection and profile environment variables</span>
<span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>EDP_PROFILE <span class="op">=</span> <span class="st">'demo-corp'</span><span class="op">)</span>
<span class="fu"><a href="../reference/set_connection.html">set_connection</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>
<span class="fu"><a href="../reference/User.html">User</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; GET https://demo-corp.api.solvebio.com/v1/user...</span>
<span class="co">#&gt; Connected to https://demo-corp.api.solvebio.com with user "Marc Lamarine" using an API Token</span>
<span class="co">#&gt; GET https://demo-corp.api.solvebio.com/v1/user...</span>
<span class="co">#&gt; EDP user "Marc Lamarine"(marc.lamarine) role:member</span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Karl Forner.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.1.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
