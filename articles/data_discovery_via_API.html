<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Data Discovery • quartzbio.edp</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data Discovery">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">quartzbio.edp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/r_authentication.html">Authentication</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/quartzbio/quartzbio.edp/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Data Discovery</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/quartzbio/quartzbio.edp/blob/main/vignettes/data_discovery_via_API.Rmd" class="external-link"><code>vignettes/data_discovery_via_API.Rmd</code></a></small>
      <div class="d-none name"><code>data_discovery_via_API.Rmd</code></div>
    </div>

    
    
<p>Global Search allows users to search for vaults, files, folders, and
datasets by name, tags, user, date, and other metadata that can be
customized. Similarly to Global Search on the web application, the
search functionality is available through EDP Python and R clients as
well.</p>
<div class="section level2">
<h2 id="global-search-basics">Global Search Basics<a class="anchor" aria-label="anchor" href="#global-search-basics"></a>
</h2>
<p>The EDP Global Search performs a search based on the provided set of
parameters (filters, entities, query, limit, ordering, etc.):</p>
<ul>
<li>query: Advanced search query string</li>
<li>filters: Filters to apply</li>
<li>entities: List of entity tuples to filter on (entity type,
entity)</li>
<li>limit: Maximum number of query results to return</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://quartzbio.github.io/quartzbio.edp/">"quartzbio.edp"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># By default it limits the number of objects in search result to 100</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GlobalSearch.search.html">GlobalSearch.search</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># To return all objects set parameter paginate to TRUE</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GlobalSearch.search.html">GlobalSearch.search</a></span><span class="op">(</span>paginate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Users may use the limit parameter to limit the number of returned
objects:</p>
<pre><code><span><span class="co"># No filters applied with limit parameter</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GlobalSearch.search.html">GlobalSearch.search</a></span><span class="op">(</span>limit <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="applying-filters-for-global-search">Applying filters for Global Search<a class="anchor" aria-label="anchor" href="#applying-filters-for-global-search"></a>
</h2>
<p>Similar to the web application, users can apply filters with R
client:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://quartzbio.github.io/quartzbio.edp/">"quartzbio.edp"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Searching only for vaults</span></span>
<span><span class="va">response</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GlobalSearch.search.html">GlobalSearch.search</a></span><span class="op">(</span>filters <span class="op">=</span> <span class="st">'[{"and":[["type__in",["vault"]]]}]'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Searching based on date created</span></span>
<span><span class="va">response</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GlobalSearch.search.html">GlobalSearch.search</a></span><span class="op">(</span>filters <span class="op">=</span> <span class="st">'[{"and":[{"and":[["created_at__range",["2023-01-01","2023-12-31"]]]}]}]'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="advanced-search-query">Advanced Search Query<a class="anchor" aria-label="anchor" href="#advanced-search-query"></a>
</h2>
<p>Users can write their own queries the using R client by providing
query parameters:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://quartzbio.github.io/quartzbio.edp/">"quartzbio.edp"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Advanced search (using keyword argument)</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GlobalSearch.search.html">GlobalSearch.search</a></span><span class="op">(</span>query <span class="op">=</span> <span class="st">"TCGA"</span>, paginate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Advanced search (using positional argument)</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GlobalSearch.search.html">GlobalSearch.search</a></span><span class="op">(</span><span class="st">"test"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="global-beacon-search">Global Beacon Search<a class="anchor" aria-label="anchor" href="#global-beacon-search"></a>
</h2>
<p>Global Beacon Search can be performed as well with both Python and R
clients by using the entities parameter. Please note that Global Beacon
Search works only on datasets enabled by Global Beacons. To search for
subjects or samples, users should also set the vault_scope parameter to
“any”.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Entity search example</span></span>
<span><span class="fu"><a href="../reference/GlobalSearch.search.html">GlobalSearch.search</a></span><span class="op">(</span>entities <span class="op">=</span> <span class="st">'[["gene","BRCA2"]]'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Entity search example</span></span>
<span><span class="fu"><a href="../reference/GlobalSearch.search.html">GlobalSearch.search</a></span><span class="op">(</span>entities <span class="op">=</span> <span class="st">'[["variant", "GRCH38-7-140753336-140753336-T"]]'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Sample entity search example</span></span>
<span><span class="fu"><a href="../reference/GlobalSearch.search.html">GlobalSearch.search</a></span><span class="op">(</span>entities <span class="op">=</span> <span class="st">'[["sample","A00001"]]'</span>, vault_scope <span class="op">=</span> <span class="st">"any"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="retrieving-subjects-with-global-search">Retrieving Subjects with Global Search<a class="anchor" aria-label="anchor" href="#retrieving-subjects-with-global-search"></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Getting the subjects</span></span>
<span><span class="fu"><a href="../reference/GlobalSearch.subjects.html">GlobalSearch.subjects</a></span><span class="op">(</span>entities <span class="op">=</span> <span class="st">'[["gene","BRCA2"]]'</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Caplan, Karl Forner, QuartzBio.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Last modified: 13-May-2025 Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
