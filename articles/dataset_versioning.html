<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Dataset versioning via API • quartzbio.edp</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Dataset versioning via API">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">quartzbio.edp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.99.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/r_authentication.html">Authentication</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/quartzbio/quartzbio.edp/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Dataset versioning via API</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/quartzbio/quartzbio.edp/blob/main/vignettes/dataset_versioning.Rmd" class="external-link"><code>vignettes/dataset_versioning.Rmd</code></a></small>
      <div class="d-none name"><code>dataset_versioning.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="dataset-activity">Dataset Activity<a class="anchor" aria-label="anchor" href="#dataset-activity"></a>
</h2>
<p>Dataset activity includes any operation that imports, transforms,
exports, or copies dataset data. Users can view a dataset’s activity via
the API or in the EDP UI by visiting the Activity tab of a dataset.</p>
<div class="section level3">
<h3 id="example-check-for-any-activity">Example: Check for any Activity<a class="anchor" aria-label="anchor" href="#example-check-for-any-activity"></a>
</h3>
<p>This example is a fast way to check for any activity on a
dataset.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">status</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"running"</span>, <span class="st">"queued"</span>, <span class="st">"pending"</span>, sep <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span>
<span><span class="va">tasks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Task.all.html">Task.all</a></span><span class="op">(</span>target_object_id <span class="op">=</span> <span class="st">"&lt;DATASET ID&gt;"</span>, status <span class="op">=</span> <span class="va">status</span>, limit <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">$</span><span class="va">total</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">tasks</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Active tasks</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="co"># Dataset is idle</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-wait-for-an-idle-dataset">Example: Wait for an Idle Dataset<a class="anchor" aria-label="anchor" href="#example-wait-for-an-idle-dataset"></a>
</h3>
<p>Some use cases may require waiting until a dataset is idle. A dataset
is idle when there are no longer any task operations that are queued,
pending, or running.</p>
<p>This can be done synchronously using the follow parameter. This
parameter continually loops through all dataset activity until the
dataset is idle.</p>
<p>The function sleeps for 3 seconds in between each check for
activity.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/Dataset.activity.html">Dataset.activity</a></span><span class="op">(</span><span class="st">"&lt;DATASET ID&gt;"</span>, follow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="reverting-datasets">Reverting Datasets<a class="anchor" aria-label="anchor" href="#reverting-datasets"></a>
</h2>
<div class="section level3">
<h3 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h3>
<p>Dataset commits are the backbone of EDP’s datastore and represent a
change log of modifications to a dataset. A dataset commit represents
all changes made to the target dataset by the import/migration/delete
process.</p>
<p>All of these changes can be reverted by creating a rollback commit.
All commits can be reverted. A rollback commit will restore the dataset
to its state before the commit was made.</p>
<p>The parent commit of a rollback commit is the commit to be
reverted.</p>
</div>
<div class="section level3">
<h3 id="rollbacks">Rollbacks<a class="anchor" aria-label="anchor" href="#rollbacks"></a>
</h3>
<p>A rollback commit represents a revert of a commit. The rollback
commit will do different things depending on the mode of the parent
commit. It may delete records, index a rollback file, or both.</p>
<p>A rollback file is generated for overwrite, upsert, and delete modes.
This file is generated right before records are committed, by querying
the current state of the dataset and storing those records in a file.
This file is stored with the commit object and used when creating a
rollback commit.</p>
<table class="table">
<colgroup>
<col width="19%">
<col width="80%">
</colgroup>
<thead><tr class="header">
<th>Commit Mode</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>append</td>
<td>Reverts by deleting all records containing parent _commit ID</td>
</tr>
<tr class="even">
<td>delete</td>
<td>Reverts by indexing the records deleted (stored in the rollback
file)</td>
</tr>
<tr class="odd">
<td>overwrite</td>
<td>Reverts by deleting all records containing parent _commit ID. Then
indexing the rollback file</td>
</tr>
<tr class="even">
<td>upsert</td>
<td>Same as overwriting commit mode</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="checking-the-ability-to-rollback">Checking the Ability to Rollback<a class="anchor" aria-label="anchor" href="#checking-the-ability-to-rollback"></a>
</h3>
<p>In order for a commit to be reverted, there must be a clear “commit”
stack on the dataset. Commits with mode overwrite or upsert will block
reverts and must be reverted first. When creating a rollback, if there
are blocking commits, the endpoint will fail and return these blocking
commit values.</p>
<div class="section level4">
<h4 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h4>
<p>Imagine a simple dataset containing employee names and employee
addresses. This is maintained by an annual import of employees with
address changes (including new employees.) Over the course of a few
years, several employees move addresses. Several employees join the
company, and some leave as well.</p>
<ul>
<li>Commit A (Import 2015 address file in overwrite mode)</li>
<li>Commit B (Import 2016 address file in overwrite mode)</li>
<li>Commit C (Import 2017 address file in overwrite mode)</li>
<li>Commit D (Import 2018 address file in overwrite mode)</li>
</ul>
<p>Let’s do a simple case first, where nobody actually moves addresses,
and therefore only new employees are added.</p>
<p>If a user were to revert Commit C, then they would only remove new
2017 employees from the dataset. The 2015, 2016, and 2018 employees all
remain.</p>
<p>Now let’s assume people do move and so each year we have all sorts of
address changes.</p>
<p>If users were to revert Commit C, then the dataset would be restored
to the known state that it was in Commit B. It would only reset the 2017
addresses to 2016 addresses for people that did not also change in 2018.
It would also leave any new employees added in 2018. This is an
inconsistent state and not a valid snapshot of the dataset at the time
Commit C was indexed. Therefore this is not allowed and attempts to
rollback will fail. Commit D must be reverted first.</p>
</div>
</div>
<div class="section level3">
<h3 id="archiving-datasets">Archiving Datasets<a class="anchor" aria-label="anchor" href="#archiving-datasets"></a>
</h3>
<div class="section level4">
<h4 id="overview-1">Overview<a class="anchor" aria-label="anchor" href="#overview-1"></a>
</h4>
<p>Archiving gives users the ability to safely store the datasets that
they do not use frequently, without consuming their organization’s
active storage space quota. When users decide that they want to use the
dataset again, they can quickly and easily restore it. Depending on the
storage class used, a dataset may be archived automatically.</p>
</div>
<div class="section level4">
<h4 id="permissions">Permissions<a class="anchor" aria-label="anchor" href="#permissions"></a>
</h4>
<p>A user must have <code>write</code> permissions on the vault in order
to archive or restore a dataset.</p>
</div>
<div class="section level4">
<h4 id="querying">Querying<a class="anchor" aria-label="anchor" href="#querying"></a>
</h4>
<p>Archived datasets currently cannot be queried and will raise an error
if a query is attempted. Users can check if a dataset is archived by
checking its <code>availability</code> parameter. The value will be
<code>available</code>, <code>unavailable</code>, or
<code>archived</code>.</p>
</div>
<div class="section level4">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h4>
<p>Users can easily archive and restore a dataset through the UI or
through the API.</p>
</div>
<div class="section level4">
<h4 id="archiving">Archiving<a class="anchor" aria-label="anchor" href="#archiving"></a>
</h4>
<p>A Dataset can be archived by changing the storage class to “Archive”
within the R client.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://quartzbio.github.io/quartzbio.edp/">quartzbio.edp</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set storage class to archive</span></span>
<span><span class="fu"><a href="../reference/Object_update.html">Object_update</a></span><span class="op">(</span><span class="st">"DATASET ID"</span>, storage_class <span class="op">=</span> <span class="st">"Archive"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="restore">Restore<a class="anchor" aria-label="anchor" href="#restore"></a>
</h4>
<p>Restoring the archived dataset can be done by changing the storage
class to “Standard” within the R client.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://quartzbio.github.io/quartzbio.edp/">quartzbio.edp</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Restore the dataset by setting the storage class to standard</span></span>
<span><span class="fu"><a href="../reference/Object_update.html">Object_update</a></span><span class="op">(</span><span class="st">"DATASET ID"</span>, storage_class <span class="op">=</span> <span class="st">"Standard"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="switching-the-storage-class">Switching the Storage Class<a class="anchor" aria-label="anchor" href="#switching-the-storage-class"></a>
</h4>
<p>Storage classes can be modified from the R client as follows:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://quartzbio.github.io/quartzbio.edp/">quartzbio.edp</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set storage class to archive</span></span>
<span><span class="fu"><a href="../reference/Object_update.html">Object_update</a></span><span class="op">(</span><span class="st">"DATASET ID"</span>, storage_class <span class="op">=</span> <span class="st">"Archive"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set the storage class to essential</span></span>
<span><span class="fu"><a href="../reference/Object_update.html">Object_update</a></span><span class="op">(</span><span class="st">"DATASET ID"</span>, storage_class <span class="op">=</span> <span class="st">"Essential"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="supporting-archived-datasets">Supporting Archived Datasets<a class="anchor" aria-label="anchor" href="#supporting-archived-datasets"></a>
</h4>
<p>After the introduction of dataset archiving &amp; restoring and of
dataset storage classes (December 2020), a dataset may now be in an
unavailable state. Scripts and apps must now check for this state before
querying or explicitly handling query failures. Both the Dataset and the
Object resources now contain the “availability” parameter which returns
“available”, “unavailable”, “restoring” or “archived” for a dataset.</p>
<p>See examples below:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Explicitly check availability</span></span>
<span><span class="va">dataset</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Dataset.get_by_full_path.html">Dataset.get_by_full_path</a></span><span class="op">(</span><span class="st">"quartzbio:public:/ClinVar/3.7.4-2017-01-30/Variants-GRCh37"</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">availability</span> <span class="op">!=</span> <span class="st">"available"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Not querying dataset"</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">id</span>, <span class="st">" with availability:"</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">availability</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Catch errors</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="../reference/Dataset.query.html">Dataset.query</a></span><span class="op">(</span>id <span class="op">=</span> <span class="va">dataset</span><span class="op">$</span><span class="va">id</span>, limit <span class="op">=</span> <span class="fl">10</span>, paginate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span></span>
<span>      <span class="st">"Unable to query: Dataset"</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">id</span>, <span class="st">"availability is"</span>,</span>
<span>      <span class="va">dataset</span><span class="op">$</span><span class="va">availability</span></span>
<span>    <span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="api-endpoints">API Endpoints<a class="anchor" aria-label="anchor" href="#api-endpoints"></a>
</h2>
<p>Methods do not accept URL parameters or request bodies unless
specified. Please note that if your EDP endpoint is
sponsor.edp.aws.quartz.bio, you would use
sponsor.api.edp.aws.quartz.bio.</p>
<div class="section level3">
<h3 id="dataset-commits">Dataset Commits<a class="anchor" aria-label="anchor" href="#dataset-commits"></a>
</h3>
<p>Dataset commits cannot be directly created. Commits are generated
only from dataset imports.</p>
<table class="table">
<colgroup>
<col width="18%">
<col width="18%">
<col width="26%">
<col width="19%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="center">Method</th>
<th align="center">HTTP Request</th>
<th align="center">Description</th>
<th align="center">Authorization</th>
<th align="center">Response</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">delete</td>
<td align="center">DELETE <a href="https://" class="external-link uri">https://</a><edp_api_host>/v2/dataset_commits/{ID}</edp_api_host>
</td>
<td align="center">Delete a dataset commit. Deleting dataset commits is
not recommended as data provenance will be lost.</td>
<td align="center">This request requires an authorized user with write
permissions on the dataset.</td>
<td align="center">The response returns “HTTP 200 OK” when
successful.</td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="16%">
<col width="16%">
<col width="16%">
<col width="18%">
<col width="16%">
<col width="16%">
</colgroup>
<thead><tr class="header">
<th align="center">Method</th>
<th align="center">HTTP Request</th>
<th align="center">Description</th>
<th align="center">Authorization</th>
<th align="center">Response</th>
<th></th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">get</td>
<td align="center">GET <a href="https://" class="external-link uri">https://</a><edp_api_host>/v2/dataset_commits/{ID}</edp_api_host>
</td>
<td align="center">Retrieve metadata about a dataset commit.</td>
<td align="center">This request requires an authorized user with
permission.</td>
<td align="center">The response contains a DatasetCommit resource.</td>
<td></td>
</tr></tbody>
</table>
<table style="width:100%;" class="table">
<colgroup>
<col width="19%">
<col width="19%">
<col width="19%">
<col width="23%">
<col width="19%">
</colgroup>
<thead><tr class="header">
<th align="center">Method</th>
<th align="center">HTTP Request</th>
<th align="center">Description</th>
<th align="center">Authorization</th>
<th align="center">Response</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">list</td>
<td align="center">GET <a href="https://" class="external-link uri">https://</a><edp_api_host>/v2/datasets/{DATASET_ID}/commits</edp_api_host>
</td>
<td align="center">Retrieve a list of dataset commits associated with a
dataset.</td>
<td align="center">This request requires an authorized user with read
permission on the dataset.</td>
<td align="center">The response contains a list of DatasetCommit
resources.</td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="17%">
<col width="17%">
<col width="18%">
<col width="17%">
<col width="28%">
</colgroup>
<thead><tr class="header">
<th align="center">Method</th>
<th align="center">HTTP Request</th>
<th align="center">Description</th>
<th align="center">Authorization</th>
<th align="center">Response</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">revert status</td>
<td align="center">GET <a href="https://" class="external-link uri">https://</a><edp_api_host>/v2/dataset_commits/{ID}/rollback</edp_api_host>
</td>
<td align="center">Returns whether or not a commit can be reverted and
returns a reason why along with any commits that are blocking.</td>
<td align="center">This request requires an authorized user with write
permissions on the dataset.</td>
<td align="center">Returns a boolean is_blocked and a detail string
explaining why. If there are blocking commits blocking_commits will
contain a list of DatasetCommit resources.</td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="16%">
<col width="16%">
<col width="16%">
<col width="16%">
<col width="35%">
</colgroup>
<thead><tr class="header">
<th align="center">Method</th>
<th align="center">HTTP Request</th>
<th align="center">Description</th>
<th align="center">Authorization</th>
<th align="center">Response</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">revert</td>
<td align="center">POST <a href="https://" class="external-link uri">https://</a><edp_api_host>/v2/dataset_commits/{ID}/rollback</edp_api_host>
</td>
<td align="center">Revert a completed commit by creating a
rollback.</td>
<td align="center">This request requires an authorized user with write
permission on the dataset.</td>
<td align="center">If a rollback cannot be created, the status code will
be 400 Bad Request. Otherwise, the response will contain a DatasetCommit
resource, representing the rollback commit.</td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="17%">
<col width="17%">
<col width="17%">
<col width="23%">
<col width="23%">
</colgroup>
<thead><tr class="header">
<th align="center">Method</th>
<th align="center">HTTP Request</th>
<th align="center">Description</th>
<th align="center">Authorization</th>
<th align="center">Response</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">cancel</td>
<td align="center">PUT <a href="https://" class="external-link uri">https://</a><edp_api_host>/v2/datasets_commits/{ID}/cancel</edp_api_host>
</td>
<td align="center">Cancel a dataset commit.</td>
<td align="center">This request requires an authorized user with read
permission on the dataset.</td>
<td align="center">The response will contain a DatasetCommit resource
with the status canceled.</td>
</tr></tbody>
</table>
<p>Request Body: In the request body, provide a valid DatasetCommit
object with status = canceled.</p>
</div>
<div class="section level3">
<h3 id="dataset-restore-tasks">Dataset Restore Tasks<a class="anchor" aria-label="anchor" href="#dataset-restore-tasks"></a>
</h3>
<table class="table">
<colgroup>
<col width="18%">
<col width="20%">
<col width="18%">
<col width="24%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="center">Method</th>
<th align="center">HTTP Request</th>
<th align="center">Description</th>
<th align="center">Authorization</th>
<th align="center">Response</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">get</td>
<td align="center">GET <a href="https://" class="external-link uri">https://</a><edp_api_host>/v2/dataset_restore_tasks/{RESTORE_TASK_ID}</edp_api_host>
</td>
<td align="center">Retrieve metadata about a dataset restore task.</td>
<td align="center">This request requires an authorized user with read
permission for the restore task.</td>
<td align="center">The response contains a DatasetRestoreTask
resource.</td>
</tr></tbody>
</table>
<table style="width:100%;" class="table">
<colgroup>
<col width="18%">
<col width="18%">
<col width="18%">
<col width="25%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="center">Method</th>
<th align="center">HTTP Request</th>
<th align="center">Description</th>
<th align="center">Authorization</th>
<th align="center">Response</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">list</td>
<td align="center">GET <a href="https://" class="external-link uri">https://</a><edp_api_host>/v2/dataset_restore_tasks</edp_api_host>
</td>
<td align="center">Retrieve a list of available dataset restore
tasks.</td>
<td align="center">This request requires an authorized user with read
permission for the restore tasks.</td>
<td align="center">The response contains a list of DatasetRestoreTask
resources.</td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="dataset-snapshot-tasks">Dataset Snapshot Tasks<a class="anchor" aria-label="anchor" href="#dataset-snapshot-tasks"></a>
</h3>
<p>Dataset snapshot tasks can not be created directly. They are created
when a dataset’s storage class is set to Archive.</p>
<table class="table">
<colgroup>
<col width="18%">
<col width="20%">
<col width="18%">
<col width="25%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="center">Method</th>
<th align="center">HTTP Request</th>
<th align="center">Description</th>
<th align="center">Authorization</th>
<th align="center">Response</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">get</td>
<td align="center">GET <a href="https://" class="external-link uri">https://</a><edp_api_host>/v2/dataset_snapshot_tasks/{SNAPSHOT_TASK_ID}</edp_api_host>
</td>
<td align="center">Retrieve metadata about a dataset snapshot task.</td>
<td align="center">This request requires an authorized user with read
permission for the snapshot task.</td>
<td align="center">The response contains a DatasetSnapshotTask
resource.</td>
</tr></tbody>
</table>
<table style="width:100%;" class="table">
<colgroup>
<col width="18%">
<col width="18%">
<col width="18%">
<col width="25%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="center">Method</th>
<th align="center">HTTP Request</th>
<th align="center">Description</th>
<th align="center">Authorization</th>
<th align="center">Response</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">list</td>
<td align="center">GET <a href="https://" class="external-link uri">https://</a><edp_api_host>/v2/dataset_snapshot_tasks</edp_api_host>
</td>
<td align="center">Retrieve a list of available dataset snapshot
tasks.</td>
<td align="center">This request requires an authorized user with read
permission for the snapshot tasks.</td>
<td align="center">The response contains a list of DatasetSnapshotTask
resources.</td>
</tr></tbody>
</table>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Caplan, Karl Forner, QuartzBio.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Last modified: 18-Mar-2025 Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
