<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Querying Datasets and Files • quartzbio.edp</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Querying Datasets and Files">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">quartzbio.edp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/r_authentication.html">Authentication</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/quartzbio/quartzbio.edp/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Querying Datasets and Files</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/quartzbio/quartzbio.edp/blob/main/vignettes/querying_datasets_and_files.Rmd" class="external-link"><code>vignettes/querying_datasets_and_files.Rmd</code></a></small>
      <div class="d-none name"><code>querying_datasets_and_files.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The EDP is designed for easy access to molecular information. It
provides an easy-to-use, real-time API for querying any dataset or file
on the platform through the EDP Python or R client libraries. Users can
also use Bash to query datasets. Users can also apply complex filters
when querying datasets and files; to learn more about using filters,
users can refer to the <a href="filters.html">Filters</a>
documentation.</p>
</div>
<div class="section level2">
<h2 id="querying-datasets">Querying Datasets<a class="anchor" aria-label="anchor" href="#querying-datasets"></a>
</h2>
<p>Dataset query results are returned in pages, similar to a search
engine. To narrow down search results, datasets can be filtered on one
or more fields. Users can either build queries using a programming
language (or even write raw JSON) or by building them directly on any
dataset page in the EDP web application. The easiest way to query
datasets is by using the EDP Python or R client libraries.</p>
<p>A basic query returns a page of results from the specified public
dataset. Users can set the paginate parameter to True to retrieve all
records or use the limit parameter to specify how many records to
retrieve. Users should note that in the R client, the limit parameter
allows users to retrieve a maximum of 10,000 records in a single
request. Additionally, the query function accepts the following
parameters:</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="25%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">Parameter</th>
<th align="center">Value</th>
<th align="center">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">filters</td>
<td align="center">objects</td>
<td align="center">A valid filter object.</td>
</tr>
<tr class="even">
<td align="center">facets</td>
<td align="center">objects</td>
<td align="center">A valid facets object</td>
</tr>
<tr class="odd">
<td align="center">fields</td>
<td align="center">string</td>
<td align="center">A list of fields to include in the results.</td>
</tr>
<tr class="even">
<td align="center">exclude_fields</td>
<td align="center">string</td>
<td align="center">A list of fields to exclude in the results.</td>
</tr>
<tr class="odd">
<td align="center">ordering</td>
<td align="center">string</td>
<td align="center">A list of fields to order results by.</td>
</tr>
<tr class="even">
<td align="center">query</td>
<td align="center">string</td>
<td align="center">A valid query string.</td>
</tr>
<tr class="odd">
<td align="center">limit</td>
<td align="center">integer</td>
<td align="center">The number of results to return per-page.</td>
</tr>
<tr class="even">
<td align="center">offset</td>
<td align="center">integer</td>
<td align="center">The record offset in the result-set.</td>
</tr>
<tr class="odd">
<td align="center">paginate</td>
<td align="center">boolean</td>
<td align="center">If True, returns all records. Default is False.</td>
</tr>
<tr class="even">
<td align="center">page_size</td>
<td align="center">integer</td>
<td align="center">The internal batch size per request. Default is 100,
with a maximum size of 10,000. Increasing the page_size can increase the
speed of the query, but large numbers can in some cases cause requests
to fail due to the large amount of data coming out in a single
response.</td>
</tr>
<tr class="odd">
<td align="center">output_format</td>
<td align="center">string</td>
<td align="center">The output format of the query (‘csv’, ‘tsv’, or
‘json’). Default is ‘json’.</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Users can set how many records they want to retrieve with the "limit" parameter</span></span>
<span><span class="va">clinvar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Dataset.get_by_full_path.html">Dataset.get_by_full_path</a></span><span class="op">(</span><span class="st">"quartzbio:Public:/ClinVar/5.2.0-20210110/Variants-GRCH37"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the first 10,000 records</span></span>
<span><span class="va">records</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Dataset_query.html">Dataset_query</a></span><span class="op">(</span><span class="va">clinvar</span><span class="op">$</span><span class="va">id</span>, limit <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the next 10,000 records</span></span>
<span><span class="va">next_records</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_next.html">fetch_next</a></span><span class="op">(</span><span class="va">records</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># To get all results in a single data frame, users can use R functions fetch_all:</span></span>
<span><span class="va">df_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_all.html">fetch_all</a></span><span class="op">(</span><span class="va">records</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Users can also fetch all records by</span></span>
<span><span class="va">records</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Dataset_query.html">Dataset_query</a></span><span class="op">(</span><span class="va">clinvar</span><span class="op">$</span><span class="va">id</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Users can order query results using the ordering argument</span></span>
<span></span>
<span><span class="co"># Order the query results by clinical_significance ascending</span></span>
<span><span class="va">records</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Dataset_query.html">Dataset_query</a></span><span class="op">(</span>dataset_id <span class="op">=</span> <span class="va">clinvar</span><span class="op">$</span><span class="va">id</span>, limit <span class="op">=</span> <span class="fl">1000</span>, ordering <span class="op">=</span> <span class="st">"clinical_significance"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Order the query results by clinical_significance descending</span></span>
<span><span class="va">records</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Dataset_query.html">Dataset_query</a></span><span class="op">(</span>dataset_id <span class="op">=</span> <span class="va">clinvar</span><span class="op">$</span><span class="va">id</span>, limit <span class="op">=</span> <span class="fl">1000</span>, ordering <span class="op">=</span> <span class="st">"-clinical_significance"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Query results can be ordered by multiple columns</span></span>
<span><span class="co"># Order the query results by clinical_significance descending and gene_symbol ascending</span></span>
<span><span class="va">records</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Dataset_query.html">Dataset_query</a></span><span class="op">(</span>dataset_id <span class="op">=</span> <span class="va">clinvar</span><span class="op">$</span><span class="va">id</span>, limit <span class="op">=</span> <span class="fl">1000</span>, ordering <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"-clinical_significance"</span>, <span class="st">"gene"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="saving-queries">Saving Queries<a class="anchor" aria-label="anchor" href="#saving-queries"></a>
</h2>
<p>Dataset queries can be saved and then used to make queries on
datasets with a similar structure. Saved queries can be created for any
dataset and can be shared with members of a user’s organization.</p>
<p>For example, users may save a query for a set of interesting genes.
They can then make this query available for all datasets that contain
genes. If shared with other users in the organization, they will also be
able to apply this query.</p>
<div class="section level3">
<h3 id="the-saved-queries-api">The Saved Queries API<a class="anchor" aria-label="anchor" href="#the-saved-queries-api"></a>
</h3>
<p>To retrieve Saved Queries that apply to a dataset, or all those
available:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dataset_queries</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SavedQuery.all.html">SavedQuery.all</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"&lt;DATASET_ID&gt;"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">all_saved_queries</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SavedQuery.all.html">SavedQuery.all</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>To use a saved query, users can retrieve the SavedQuery object and
then apply the parameters.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">saved_query</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SavedQuery.retrieve.html">SavedQuery.retrieve</a></span><span class="op">(</span><span class="st">"SAVED_QUERY_ID"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Dataset_query.html">Dataset_query</a></span><span class="op">(</span><span class="st">"&lt;DATASET_ID&gt;"</span>, filters <span class="op">=</span> <span class="va">saved_query</span><span class="op">$</span><span class="va">params</span><span class="op">$</span><span class="va">filters</span><span class="op">)</span></span></code></pre></div>
<p>To create a SavedQuery, users can define the query parameters and
provide a valid dataset, as well as give it a name and description.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  entities <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"gene"</span>, <span class="st">"MTOR"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"gene"</span>, <span class="st">"BRCA2"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"gene"</span>, <span class="st">"CFTR"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">saved_query</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SavedQuery.create.html">SavedQuery.create</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"Interesting Genes"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"Interesting genes as defined in Pubmed article 512312"</span>,</span>
<span>  dataset <span class="op">=</span> <span class="st">"&lt;DATASET_ID&gt;"</span>,</span>
<span>  params <span class="op">=</span> <span class="va">params</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-saved-queries">Using Saved Queries<a class="anchor" aria-label="anchor" href="#using-saved-queries"></a>
</h3>
<p>Saved queries can be used via the EDP API or the web UI. The UI will
only display queries compatible with the current dataset. This
compatibility check is handled automatically by the platform.</p>
<p>When viewing a dataset in the web UI, previously saved queries can be
retrieved by selecting “Load Filters” and then selecting one. Users can
save a new query by applying filters to the dataset and then by clicking
“Save Filters.” For more information, users can refer to the Dataset
Exploration documentation.</p>
</div>
</div>
<div class="section level2">
<h2 id="querying-files">Querying Files<a class="anchor" aria-label="anchor" href="#querying-files"></a>
</h2>
<p>File objects can be queried and filtered on one or more fields. The
query results are returned in pages. It is important to note that text
files such as CSV, TXT, TSV, or BED must be uploaded with headers;
otherwise, the query will return incorrect results because the query
logic considers the first row from the file as the header. A basic query
returns a page of results from the specified file object:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">clinvar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Object.get_by_full_path.html">Object.get_by_full_path</a></span><span class="op">(</span><span class="st">"quartzbio:Public:/ClinVar/5.2.0-20210110/ClinVar-5-2-0-20210110-Variants-GRCH37-1425664822266145048-20221110194518.json.gz"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Object.query.html">Object.query</a></span><span class="op">(</span>id <span class="op">=</span> <span class="va">clinvar</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span></code></pre></div>
<p>Users can retrieve a specified number of records from the file by
setting the <code>limit</code> query parameter:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">clinvar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Object.get_by_full_path.html">Object.get_by_full_path</a></span><span class="op">(</span><span class="st">"quartzbio:Public:/ClinVar/5.2.0-20210110/ClinVar-5-2-0-20210110-Variants-GRCH37-1425664822266145048-20221110194518.json.gz"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Object.query.html">Object.query</a></span><span class="op">(</span>id <span class="op">=</span> <span class="va">clinvar</span><span class="op">$</span><span class="va">id</span>, limit <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></code></pre></div>
<p>All fields from the file can be retrieved by calling the
<code>fields</code> method:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">clinvar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Object.get_by_full_path.html">Object.get_by_full_path</a></span><span class="op">(</span><span class="st">"quartzbio:Public:/ClinVar/5.2.0-20210110/ClinVar-5-2-0-20210110-Variants-GRCH37-1425664822266145048-20221110194518.json.gz"</span><span class="op">)</span></span>
<span><span class="va">fields</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Object.fields.html">Object.fields</a></span><span class="op">(</span>id <span class="op">=</span> <span class="va">clinvar</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span></code></pre></div>
<p>Users can also use the download_url() method to load files into
readers such as pandas:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get file using ID or full path</span></span>
<span><span class="va">file_id</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Object.get_by_full_path.html">Object.get_by_full_path</a></span><span class="op">(</span><span class="st">"vault/path/to/file.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get file download URL and load into reader</span></span>
<span><span class="va">file_url</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Object.get_download_url.html">Object.get_download_url</a></span><span class="op">(</span><span class="va">file_id</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">url</a></span><span class="op">(</span><span class="va">file_url</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="supported-file-extensions-and-compressions">Supported File Extensions and Compressions<a class="anchor" aria-label="anchor" href="#supported-file-extensions-and-compressions"></a>
</h2>
<p>File querying is only supported for the following file extensions and
compressions:</p>
<table class="table">
<thead><tr class="header">
<th>File Extensions</th>
<th>Compression</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>txt</td>
<td>GZIP, BZIP2</td>
</tr>
<tr class="even">
<td>csv</td>
<td>GZIP, BZIP2</td>
</tr>
<tr class="odd">
<td>tsv</td>
<td>GZIP, BZIP2</td>
</tr>
<tr class="even">
<td>bed</td>
<td>GZIP, BZIP2</td>
</tr>
<tr class="odd">
<td>json</td>
<td>GZIP, BZIP2</td>
</tr>
<tr class="even">
<td>parquet</td>
<td>GZIP</td>
</tr>
</tbody>
</table>
<p>The only supported encoding is UTF-8.</p>
<p>The output format of the query can be provided by using the
output_format parameter which can be one of the following:</p>
<table class="table">
<colgroup>
<col width="32%">
<col width="67%">
</colgroup>
<thead><tr class="header">
<th>Output Format</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>json (default)</td>
<td>applicable to all file extensions</td>
</tr>
<tr class="even">
<td>csv</td>
<td>applicable only to <strong>csv</strong>, <strong>txt</strong>,
<strong>tsv</strong>, or <strong>bed</strong> file extensions</td>
</tr>
<tr class="odd">
<td>tsv</td>
<td>applicable only to <strong>csv</strong>, <strong>txt</strong>,
<strong>tsv</strong>, or <strong>bed</strong> file extensions</td>
</tr>
</tbody>
</table>
<div class="section level3">
<h3 id="example">Example:<a class="anchor" aria-label="anchor" href="#example"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">clinvar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Object.get_by_full_path.html">Object.get_by_full_path</a></span><span class="op">(</span><span class="st">"quartzbio:Public:/ClinVar/5.2.0-20210110/ClinVar-5-2-0-20210110-Variants-GRCH37-1425664822266145048-20221110194518.json.gz"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Object.query.html">Object.query</a></span><span class="op">(</span>id <span class="op">=</span> <span class="va">clinvar</span><span class="op">$</span><span class="va">id</span>, output_format <span class="op">=</span> <span class="st">"json"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="api-endpoints">API Endpoints<a class="anchor" aria-label="anchor" href="#api-endpoints"></a>
</h2>
<p>Methods do not accept URL parameters or request bodies unless
specified. Please note that if your EDP endpoint is
sponsor.edp.aws.quartz.bio, you would use
sponsor.api.edp.aws.quartz.bio.</p>
<div class="section level3">
<h3 id="dataset-query">Dataset Query<a class="anchor" aria-label="anchor" href="#dataset-query"></a>
</h3>
<table class="table">
<colgroup>
<col width="20%">
<col width="20%">
<col width="20%">
<col width="20%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th align="center">Method</th>
<th align="center">HTTP Request</th>
<th align="center">Description</th>
<th align="center">Authorization</th>
<th align="center">Response</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">query</td>
<td align="center">POST /v2/datasets/{DATASET_ID}/query</td>
<td align="center">Query a dataset.</td>
<td align="center">This request requires an authorized user with
permission to query the target dataset.</td>
<td align="center">The dataset query response has a structure defined
below.</td>
</tr></tbody>
</table>
<p>Request Body: The request body should contain valid query
parameters:</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="25%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th align="center">Property</th>
<th align="center">Value</th>
<th align="center">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">filters</td>
<td align="center">objects</td>
<td align="center">A valid filter object.</td>
</tr>
<tr class="even">
<td align="center">facets</td>
<td align="center">objects</td>
<td align="center">A valid <a href="aggregating_datasets.html">facets</a> object</td>
</tr>
<tr class="odd">
<td align="center">fields</td>
<td align="center">string</td>
<td align="center">A list of fields to include in the results.</td>
</tr>
<tr class="even">
<td align="center">exclude_fields</td>
<td align="center">string</td>
<td align="center">A list of fields to exclude in the results.</td>
</tr>
<tr class="odd">
<td align="center">ordering</td>
<td align="center">string</td>
<td align="center">A list of fields to order results by.</td>
</tr>
<tr class="even">
<td align="center">query</td>
<td align="center">string</td>
<td align="center">A valid query string.</td>
</tr>
<tr class="odd">
<td align="center">limit</td>
<td align="center">integer</td>
<td align="center">The number of results to return per-page.</td>
</tr>
<tr class="even">
<td align="center">offset</td>
<td align="center">integer</td>
<td align="center">The record offset in the result-set.</td>
</tr>
</tbody>
</table>
<p>Users can refer to the <a href="filters.html">Filters
documentation</a> for more information about constructing filters.</p>
<p>The dataset query response has the following structure:</p>
<table class="table">
<colgroup>
<col width="17%">
<col width="12%">
<col width="70%">
</colgroup>
<thead><tr class="header">
<th align="center">Property</th>
<th align="center">Value</th>
<th align="center">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">dataset</td>
<td align="center">string</td>
<td align="center">The name of the dataset.</td>
</tr>
<tr class="even">
<td align="center">dataset_id</td>
<td align="center">integer</td>
<td align="center">The ID of the dataset.</td>
</tr>
<tr class="odd">
<td align="center">facets</td>
<td align="center">objects</td>
<td align="center">Facet results (if a facets are requested).</td>
</tr>
<tr class="even">
<td align="center">offset</td>
<td align="center">integer</td>
<td align="center">The current offset within the whole result-set.</td>
</tr>
<tr class="odd">
<td align="center">results</td>
<td align="center">objects</td>
<td align="center">A list of dataset records.</td>
</tr>
<tr class="even">
<td align="center">took</td>
<td align="center">integer</td>
<td align="center">Time to retrieve the records, in miliseconds.</td>
</tr>
<tr class="odd">
<td align="center">total</td>
<td align="center">integer</td>
<td align="center">The total number of records in the result-set.</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="saved-queries">Saved Queries<a class="anchor" aria-label="anchor" href="#saved-queries"></a>
</h3>
<table class="table">
<colgroup>
<col width="20%">
<col width="20%">
<col width="20%">
<col width="20%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th align="center">Method</th>
<th align="center">HTTP Request</th>
<th align="center">Description</th>
<th align="center">Authorization</th>
<th align="center">Response</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">get</td>
<td align="center">GET <a href="https://" class="external-link uri">https://</a><edp_api_host>/v2/saved_queries/{ID}</edp_api_host>
</td>
<td align="center">Retrieve a Saved Query.</td>
<td align="center">This request requires an authorized user with
permission.</td>
<td align="center">The response contains a SavedQuery resource.</td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="20%">
<col width="20%">
<col width="20%">
<col width="20%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th align="center">Method</th>
<th align="center">HTTP Request</th>
<th align="center">Description</th>
<th align="center">Authorization</th>
<th align="center">Response</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">create</td>
<td align="center">POST <a href="https://" class="external-link uri">https://</a><edp_api_host>/v2/saved_queries</edp_api_host>
</td>
<td align="center">Create a new Saved Query.</td>
<td align="center">This request requires an authorized user with
appropriate permissions.</td>
<td align="center">The response contains the new SavedQuery
resource.</td>
</tr></tbody>
</table>
<p>Request Body:</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="25%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">Property</th>
<th align="center">Value</th>
<th align="center">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">name</td>
<td align="center">string</td>
<td align="center">A short name for the Saved Query.</td>
</tr>
<tr class="even">
<td align="center">description</td>
<td align="center">string</td>
<td align="center">A description for the Saved Query.</td>
</tr>
<tr class="odd">
<td align="center">dataset</td>
<td align="center">string</td>
<td align="center">The ID or full_path of a dataset to validate this
query parameters against. This is needed on initial creation to ensure
valid parameters.</td>
</tr>
<tr class="even">
<td align="center">params</td>
<td align="center">objects</td>
<td align="center">The query parameters (see query parameters above for
query method).</td>
</tr>
<tr class="odd">
<td align="center">is_shared</td>
<td align="center">boolean</td>
<td align="center">If True, this query will be shared with other members
of you organization</td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col width="20%">
<col width="20%">
<col width="20%">
<col width="20%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th align="center">Method</th>
<th align="center">HTTP Request</th>
<th align="center">Description</th>
<th align="center">Authorization</th>
<th align="center">Response</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">delete</td>
<td align="center">DELETE <a href="https://" class="external-link uri">https://</a><edp_api_host>/v2/saved_queries/{ID}</edp_api_host>
</td>
<td align="center">Delete a Saved Query.</td>
<td align="center">This request requires an authorized user with write
permissions on the resource.</td>
<td align="center">The response returns “HTTP 200 OK” when
successful.</td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="20%">
<col width="20%">
<col width="20%">
<col width="20%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th align="center">Method</th>
<th align="center">HTTP Request</th>
<th align="center">Description</th>
<th align="center">Authorization</th>
<th align="center">Response</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">list</td>
<td align="center">GET <a href="https://" class="external-link uri">https://</a><edp_api_host>/v2/saved_queries</edp_api_host>
</td>
<td align="center">Retrieves all Saved Queries available to a user.</td>
<td align="center">This request requires an authorized user.</td>
<td align="center">The response contains a list of SavedQuery
resources.</td>
</tr></tbody>
</table>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Caplan, Karl Forner, QuartzBio.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Last modified: 14-May-2025 Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
